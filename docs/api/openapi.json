{
  "openapi": "3.0.1",
  "info": {
    "title": "Atlas API",
    "version": "v1"
  },
  "paths": {
    "/api/add-on-services": {
      "get": {
        "tags": [
          "AddOnServices"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Controllers.AddOnServiceDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "AddOnServices"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.AddOnServiceCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.AddOnServiceCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.AddOnServiceCreateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Controllers.AddOnServiceDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/add-on-services/{id}": {
      "put": {
        "tags": [
          "AddOnServices"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.AddOnServiceUpdateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.AddOnServiceUpdateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.AddOnServiceUpdateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Controllers.AddOnServiceDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "AddOnServices"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/listings/{listingId}/add-ons": {
      "get": {
        "tags": [
          "AddOnServices"
        ],
        "summary": "Get active add-ons configured for a listing (public, for guest booking widget).",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Controllers.ListingAddOnPublicDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "AddOnServices"
        ],
        "summary": "Assign an add-on service to a listing.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ListingAddOnCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ListingAddOnCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ListingAddOnCreateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Controllers.ListingAddOnDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/listings/{listingId}/add-ons/{addOnId}": {
      "delete": {
        "tags": [
          "AddOnServices"
        ],
        "summary": "Remove an add-on from a listing.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "addOnId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/admin/calendar/availability": {
      "get": {
        "tags": [
          "AdminCalendar"
        ],
        "parameters": [
          {
            "name": "propertyId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "days",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 30
            }
          },
          {
            "name": "listingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.AdminCalendarAvailabilityCellDto"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "AdminCalendar"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.AdminCalendarAvailabilityBulkUpsertRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.AdminCalendarAvailabilityBulkUpsertRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.AdminCalendarAvailabilityBulkUpsertRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.AdminCalendarAvailabilityBulkUpsertResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/admin/reports/bookings": {
      "get": {
        "tags": [
          "AdminReports"
        ],
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "listingIds",
            "in": "query",
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "int32"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Models.Reports.BookingInfo"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/reports/listings": {
      "get": {
        "tags": [
          "AdminReports"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Models.Reports.ListingInfo"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/reports/payouts": {
      "get": {
        "tags": [
          "AdminReports"
        ],
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "listingIds",
            "in": "query",
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "int32"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Models.Reports.DailyPayout"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/reports/earnings/monthly": {
      "get": {
        "tags": [
          "AdminReports"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Models.Reports.MonthlyEarningsSummary"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "AdminReports"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Reports.ReportFilter"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Reports.ReportFilter"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Reports.ReportFilter"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Models.Reports.MonthlyEarningsSummary"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/reports/payouts/daily": {
      "get": {
        "tags": [
          "AdminReports"
        ],
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "listingIds",
            "in": "query",
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "int32"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Models.Reports.DailyPayout"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/reports/bookings/source": {
      "get": {
        "tags": [
          "AdminReports"
        ],
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "listingIds",
            "in": "query",
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "int32"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Models.Reports.SourceBookingSummary"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/reports/bookings/calendar": {
      "get": {
        "tags": [
          "AdminReports"
        ],
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "listingIds",
            "in": "query",
            "schema": {
              "type": "array",
              "items": {
                "type": "integer",
                "format": "int32"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Models.Reports.CalendarBooking"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/reports/analytics": {
      "get": {
        "tags": [
          "AdminReports"
        ],
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "listingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.AnalyticsDto"
                }
              }
            }
          }
        }
      }
    },
    "/admin/reports/analytics/trends": {
      "get": {
        "tags": [
          "AdminReports"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.MonthlyTrend"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/reports/analytics/channel-performance": {
      "get": {
        "tags": [
          "AdminReports"
        ],
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.ChannelPerformance"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Authenticate with email + password. Returns JWT with tenantId and role claims.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.LoginRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.LoginRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.LoginRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.LoginResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/automation-schedules": {
      "get": {
        "tags": [
          "AutomationSchedules"
        ],
        "parameters": [
          {
            "name": "bookingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "eventType",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.AutomationScheduleDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "AutomationSchedules"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreateAutomationScheduleDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreateAutomationScheduleDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreateAutomationScheduleDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.AutomationScheduleDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/automation-schedules/{id}": {
      "get": {
        "tags": [
          "AutomationSchedules"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.AutomationScheduleDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/automation-schedules/{id}/cancel": {
      "post": {
        "tags": [
          "AutomationSchedules"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.AutomationScheduleDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/availability": {
      "get": {
        "tags": [
          "Availability"
        ],
        "parameters": [
          {
            "name": "propertyId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "checkIn",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "checkOut",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "guests",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.AvailabilityResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/availability/listing-availability": {
      "get": {
        "tags": [
          "Availability"
        ],
        "summary": "Get listing availability for a date range",
        "parameters": [
          {
            "name": "listingId",
            "in": "query",
            "description": "Required: Listing ID",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "Required: Start date for date range (defaults to 30 days)",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "months",
            "in": "query",
            "description": "Optional: Number of months from start date (default: 2)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 2
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.ListingAvailabilityResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/availability/blocks": {
      "post": {
        "tags": [
          "Availability"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.AvailabilityBlockRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.AvailabilityBlockRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.AvailabilityBlockRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "422": {
            "description": "Unprocessable Content",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/availability/update-inventory": {
      "patch": {
        "tags": [
          "Availability"
        ],
        "parameters": [
          {
            "name": "listingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "date",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "inventory",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/bankaccounts": {
      "get": {
        "tags": [
          "BankAccounts"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.BankAccountResponseDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "BankAccounts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.BankAccountRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.BankAccountRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.BankAccountRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.BankAccountResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/bankaccounts/{id}": {
      "get": {
        "tags": [
          "BankAccounts"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.BankAccountResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "BankAccounts"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.BankAccountRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.BankAccountRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.BankAccountRequestDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "BankAccounts"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/billing/entitlements": {
      "get": {
        "tags": [
          "Billing"
        ],
        "summary": "Current tenant entitlements (lock state, credits, plan).",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/billing/plans": {
      "get": {
        "tags": [
          "Billing"
        ],
        "summary": "All active billing plans.",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/billing/subscribe": {
      "post": {
        "tags": [
          "Billing"
        ],
        "summary": "Subscribe to a plan (creates/updates subscription + issues invoice).",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.SubscribeRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.SubscribeRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.SubscribeRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/billing/invoices": {
      "get": {
        "tags": [
          "Billing"
        ],
        "summary": "List invoices for this tenant.",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/billing/invoices/{id}/pay-link": {
      "post": {
        "tags": [
          "Billing"
        ],
        "summary": "Create a Razorpay payment link for an invoice.\r\nTODO: Replace stub with actual Razorpay Payment Link API when keys are ready.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/billing/webhooks/razorpay": {
      "post": {
        "tags": [
          "Billing"
        ],
        "summary": "Razorpay webhook for billing payments. Marks invoice paid and unlocks tenant.\r\nTODO: Verify Razorpay signature before processing.",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/billing/credits/adjust": {
      "post": {
        "tags": [
          "Billing"
        ],
        "summary": "Manual credit adjustment (platform-admin only).",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreditAdjustRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreditAdjustRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreditAdjustRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/bookings": {
      "get": {
        "tags": [
          "Bookings"
        ],
        "parameters": [
          {
            "name": "checkinStart",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "checkinEnd",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "listingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "bookingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.BookingListDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "post": {
        "tags": [
          "Bookings"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreateBookingRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreateBookingRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreateBookingRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.BookingDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/bookings/by-reference": {
      "get": {
        "tags": [
          "Bookings"
        ],
        "parameters": [
          {
            "name": "externalReservationId",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.BookingDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/bookings/{id}": {
      "get": {
        "tags": [
          "Bookings"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.BookingDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Bookings"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpdateBookingRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpdateBookingRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpdateBookingRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Bookings"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/bookings/{id}/cancel": {
      "post": {
        "tags": [
          "Bookings"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.BookingDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/bookings/{id}/checkin": {
      "post": {
        "tags": [
          "Bookings"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.BookingDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/bookings/{id}/checkout": {
      "post": {
        "tags": [
          "Bookings"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.BookingDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/bookings/{id}/refund": {
      "post": {
        "tags": [
          "Bookings"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.BookingsController+RefundRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.BookingsController+RefundRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.BookingsController+RefundRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Services.RazorpayRefundResult"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/bookings/{id}/invoice": {
      "get": {
        "tags": [
          "Bookings"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Models.BookingInvoice"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/channel-configs": {
      "get": {
        "tags": [
          "ChannelConfig"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/channel-configs/{propertyId}": {
      "get": {
        "tags": [
          "ChannelConfig"
        ],
        "parameters": [
          {
            "name": "propertyId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/channel-configs/{propertyId}/connect": {
      "post": {
        "tags": [
          "ChannelConfig"
        ],
        "parameters": [
          {
            "name": "propertyId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ConnectDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ConnectDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ConnectDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/channel-configs/{propertyId}/disconnect": {
      "post": {
        "tags": [
          "ChannelConfig"
        ],
        "parameters": [
          {
            "name": "propertyId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/channel-configs/{propertyId}/sync-rates": {
      "post": {
        "tags": [
          "ChannelConfig"
        ],
        "parameters": [
          {
            "name": "propertyId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.SyncRatesDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.SyncRatesDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.SyncRatesDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/channel-configs/{propertyId}/sync-availability": {
      "post": {
        "tags": [
          "ChannelConfig"
        ],
        "parameters": [
          {
            "name": "propertyId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.SyncAvailabilityDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.SyncAvailabilityDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.SyncAvailabilityDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/communication-logs": {
      "get": {
        "tags": [
          "CommunicationLogs"
        ],
        "parameters": [
          {
            "name": "bookingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "guestId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "fromUtc",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "toUtc",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "channel",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.CommunicationLogDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/guests": {
      "get": {
        "tags": [
          "Guests"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.GuestDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Guests"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.GuestCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.GuestCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.GuestCreateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.GuestDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/guests/{id}": {
      "get": {
        "tags": [
          "Guests"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.GuestDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Guests"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.GuestUpdateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.GuestUpdateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.GuestUpdateDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Guests"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/listings/{listingId}/ical": {
      "get": {
        "tags": [
          "ICal"
        ],
        "summary": "Public iCal feed for a listing. Returns .ics with bookings and manual blocks.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "text/calendar": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/listings/{listingId}/external-calendars": {
      "get": {
        "tags": [
          "ICal"
        ],
        "summary": "List external iCal calendars linked to a listing.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "ICal"
        ],
        "summary": "Add an external iCal calendar URL to a listing.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.AddExternalCalendarRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.AddExternalCalendarRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.AddExternalCalendarRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/external-calendars/{id}": {
      "delete": {
        "tags": [
          "ICal"
        ],
        "summary": "Remove an external iCal calendar.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/external-calendars/{id}/sync": {
      "post": {
        "tags": [
          "ICal"
        ],
        "summary": "Manually trigger sync for one external calendar.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Incidents": {
      "get": {
        "tags": [
          "Incidents"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.IncidentResponseDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Incidents"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.IncidentCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.IncidentCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.IncidentCreateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.IncidentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Incidents/{id}": {
      "get": {
        "tags": [
          "Incidents"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.IncidentResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Incidents"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.IncidentCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.IncidentCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.IncidentCreateDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Incidents"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/kyc/documents": {
      "get": {
        "tags": [
          "Kyc"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/kyc/documents/{id}/verify": {
      "put": {
        "tags": [
          "Kyc"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.VerifyDocDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.VerifyDocDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.VerifyDocDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/kyc/status": {
      "get": {
        "tags": [
          "Kyc"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/listings/{listingId}/photos": {
      "get": {
        "tags": [
          "ListingPhotos"
        ],
        "summary": "List all photos for a listing, ordered by SortOrder.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Controllers.ListingPhotoDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "ListingPhotos"
        ],
        "summary": "Upload one or more photos to a listing.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              },
              "encoding": {
                "files": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Controllers.ListingPhotoDto"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/listings/{listingId}/photos/{photoId}": {
      "delete": {
        "tags": [
          "ListingPhotos"
        ],
        "summary": "Delete a photo from a listing.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "photoId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/listings/{listingId}/photos/{photoId}/cover": {
      "patch": {
        "tags": [
          "ListingPhotos"
        ],
        "summary": "Set a photo as the cover image for a listing.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "photoId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/listings": {
      "get": {
        "tags": [
          "Listings"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.ListingResponseDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Listings"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/listings/public": {
      "get": {
        "tags": [
          "Listings"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.PublicListingDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/listings/{id}": {
      "get": {
        "tags": [
          "Listings"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.ListingResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Listings"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Listings"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/message-templates": {
      "get": {
        "tags": [
          "MessageTemplates"
        ],
        "parameters": [
          {
            "name": "eventType",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "channel",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "isActive",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.MessageTemplateResponseDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "MessageTemplates"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.MessageTemplateCreateUpdateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.MessageTemplateCreateUpdateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.MessageTemplateCreateUpdateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.MessageTemplateResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/message-templates/{id}": {
      "get": {
        "tags": [
          "MessageTemplates"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.MessageTemplateResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "MessageTemplates"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.MessageTemplateCreateUpdateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.MessageTemplateCreateUpdateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.MessageTemplateCreateUpdateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.MessageTemplateResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "MessageTemplates"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/message-templates/{id}/test-send": {
      "post": {
        "tags": [
          "MessageTemplates"
        ],
        "summary": "Send a test notification using a template (fills placeholders with sample data).",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.TestSendDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.TestSendDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.TestSendDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/onboarding/start": {
      "post": {
        "tags": [
          "Onboarding"
        ],
        "summary": "Start onboarding: creates Tenant + User (HostAdmin) + draft Property + draft Listing.\r\nReturns JWT + created IDs + next step.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.OnboardingStartRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.OnboardingStartRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.OnboardingStartRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.OnboardingStartResponseDto"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/onboarding/status": {
      "get": {
        "tags": [
          "Onboarding"
        ],
        "summary": "Onboarding status with checklist and publish blockers.",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.OnboardingStatusResponseDto"
                }
              }
            }
          }
        }
      }
    },
    "/onboarding/profile": {
      "put": {
        "tags": [
          "Onboarding"
        ],
        "summary": "Update tenant profile (legal/tax details).",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.OnboardingProfileUpdateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.OnboardingProfileUpdateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.OnboardingProfileUpdateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/onboarding/documents": {
      "post": {
        "tags": [
          "Onboarding"
        ],
        "summary": "Upload KYC document (multipart form).",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "docType": {
                    "type": "string"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              },
              "encoding": {
                "docType": {
                  "style": "form"
                },
                "file": {
                  "style": "form"
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.HostKycDocumentDto"
                }
              }
            }
          }
        }
      }
    },
    "/onboarding/airbnb/prefill": {
      "post": {
        "tags": [
          "Onboarding"
        ],
        "summary": "Prefill property info from Airbnb URL or pasted text (public metadata only).",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.AirbnbPrefillRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.AirbnbPrefillRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.AirbnbPrefillRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.AirbnbPrefillResponseDto"
                }
              }
            }
          }
        }
      }
    },
    "/onboarding/publish": {
      "post": {
        "tags": [
          "Onboarding"
        ],
        "summary": "Publish: validates PublishGate checklist, sets listing + tenant active.\r\nReturns 200 on success, 422 with blockers if not ready.",
        "responses": {
          "200": {
            "description": "OK"
          },
          "422": {
            "description": "Unprocessable Content",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/ops/outbox": {
      "get": {
        "tags": [
          "Ops"
        ],
        "summary": "Returns paginated outbox messages for ops diagnostics. Tenant-scoped.",
        "parameters": [
          {
            "name": "fromUtc",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "toUtc",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "published",
            "in": "query",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.OutboxMessageDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/ops/db-info": {
      "get": {
        "tags": [
          "Ops"
        ],
        "summary": "Returns environment metadata (server, database, marker) without exposing secrets.",
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/api/Payments": {
      "get": {
        "tags": [
          "Payments"
        ],
        "parameters": [
          {
            "name": "bookingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "receivedFrom",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "receivedTo",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.PaymentResponseDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Payments"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PaymentCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PaymentCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PaymentCreateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.PaymentResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Payments/{id}": {
      "get": {
        "tags": [
          "Payments"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.PaymentResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Payments"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PaymentUpdateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PaymentUpdateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PaymentUpdateDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Payments"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/platform/tenants": {
      "get": {
        "tags": [
          "Platform"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.PlatformTenantDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Platform"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PlatformCreateTenantDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PlatformCreateTenantDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PlatformCreateTenantDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.PlatformTenantDto"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/platform/tenants/{id}": {
      "patch": {
        "tags": [
          "Platform"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PlatformPatchTenantDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PlatformPatchTenantDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PlatformPatchTenantDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.PlatformTenantDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/pricing/base": {
      "put": {
        "tags": [
          "Pricing"
        ],
        "summary": "Update base pricing for a listing.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpdateBasePricingDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpdateBasePricingDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpdateBasePricingDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/pricing/send": {
      "post": {
        "tags": [
          "Pricing"
        ],
        "summary": "Create or update base pricing for a single listing. If listingId already has pricing, it is updated; otherwise a new row is created. TenantId and UpdatedAtUtc are set server-side.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.ListingPricingItemDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.ListingPricingItemDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.ListingPricingItemDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/pricing/daily-rate": {
      "put": {
        "tags": [
          "Pricing"
        ],
        "summary": "Upsert daily rate override for a listing and date.",
        "parameters": [
          {
            "name": "updatedByUserId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpsertDailyRateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpsertDailyRateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpsertDailyRateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/pricing/daily-inventory": {
      "put": {
        "tags": [
          "Pricing"
        ],
        "summary": "Upsert daily inventory for a listing and date.",
        "parameters": [
          {
            "name": "updatedByUserId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpsertDailyInventoryDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpsertDailyInventoryDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpsertDailyInventoryDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/pricing/daily-summary": {
      "get": {
        "tags": [
          "Pricing"
        ],
        "summary": "Get pricing summary for the current date only. Returns all listings with that day's baseAmount, discountAmount, convenienceFeePercent, finalAmount, globalDiscountPercent. Uses the same logic as pricing/breakdown.",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.DailyPricingSummaryDto"
                }
              }
            }
          }
        }
      }
    },
    "/pricing/breakdown": {
      "get": {
        "tags": [
          "Pricing"
        ],
        "summary": "Get calendar pricing breakdown for a listing. Query parameters: listingId, startDate (yyyy-MM-dd), months (1-12).",
        "parameters": [
          {
            "name": "listingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "months",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/pricing/guest-breakdown": {
      "get": {
        "tags": [
          "Pricing"
        ],
        "summary": "Guest-facing price breakdown for a check-in/check-out range.\r\nApplies base/weekend rates, daily overrides, global discount, and convenience fee.",
        "parameters": [
          {
            "name": "listingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "checkIn",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "checkOut",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "feeMode",
            "in": "query",
            "schema": {
              "type": "string",
              "default": "CustomerPays"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.PriceBreakdownDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/pricing/availability-rates": {
      "get": {
        "tags": [
          "Pricing"
        ],
        "summary": "Guest: Get availability and nightly rate for a listing in a date range.\r\nListingDailyRate overrides base/weekend rate. Returns roomsAvailable and isAvailable per day.",
        "parameters": [
          {
            "name": "listingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.GuestAvailabilityRateResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/listings/{listingId}/pricing-rules": {
      "get": {
        "tags": [
          "PricingRules"
        ],
        "summary": "List all pricing rules for a listing.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Controllers.PricingRuleDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "PricingRules"
        ],
        "summary": "Create a pricing rule for a listing.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PricingRuleCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PricingRuleCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PricingRuleCreateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Controllers.PricingRuleDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/listing-pricing-rules/{id}": {
      "put": {
        "tags": [
          "PricingRules"
        ],
        "summary": "Update a pricing rule.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PricingRuleUpdateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PricingRuleUpdateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PricingRuleUpdateDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Controllers.PricingRuleDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "PricingRules"
        ],
        "summary": "Delete a pricing rule.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/promo-codes": {
      "get": {
        "tags": [
          "PromoCodes"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Controllers.PromoCodeResponseDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "PromoCodes"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PromoCodeCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PromoCodeCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PromoCodeCreateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Controllers.PromoCodeResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/promo-codes/{id}": {
      "delete": {
        "tags": [
          "PromoCodes"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/promo-codes/validate": {
      "post": {
        "tags": [
          "PromoCodes"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PromoCodeValidateRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PromoCodeValidateRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.PromoCodeValidateRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Controllers.PromoCodeValidateResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/properties": {
      "get": {
        "tags": [
          "Properties"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.PropertyResponseDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Properties"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PropertyCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PropertyCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PropertyCreateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.PropertyResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/properties/{id}": {
      "get": {
        "tags": [
          "Properties"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.PropertyResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Properties"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PropertyCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PropertyCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.PropertyCreateDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Properties"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/quotes": {
      "post": {
        "tags": [
          "Quotes"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreateQuoteRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreateQuoteRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.CreateQuoteRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.QuoteIssueResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/quotes/validate": {
      "get": {
        "tags": [
          "Quotes"
        ],
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.QuoteValidateResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Razorpay/order": {
      "post": {
        "tags": [
          "Razorpay"
        ],
        "summary": "Creates a new Razorpay order for payment",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Dtos.Razorpay.CreateRazorpayOrderRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Dtos.Razorpay.CreateRazorpayOrderRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Dtos.Razorpay.CreateRazorpayOrderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Models.Dtos.Razorpay.RazorpayOrderResponse"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Models.Dtos.Razorpay.RazorpayOrderResponse"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Models.Dtos.Razorpay.RazorpayOrderResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Content",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Razorpay/verify": {
      "post": {
        "tags": [
          "Razorpay"
        ],
        "summary": "Verifies and processes a Razorpay payment.\r\nIdempotent: repeated calls with the same already-completed payment return 200 without side effects.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Dtos.Razorpay.VerifyRazorpayPaymentRequest"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Dtos.Razorpay.VerifyRazorpayPaymentRequest"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Models.Dtos.Razorpay.VerifyRazorpayPaymentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Razorpay/webhook": {
      "post": {
        "tags": [
          "Razorpay"
        ],
        "summary": "Razorpay server-to-server webhook for payment reconciliation.\r\nCatches payments where the client dropped before calling /verify.\r\nValidates webhook signature using HMAC-SHA256 with webhook secret.",
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "text/plain": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              },
              "text/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/reports/calendar-earnings": {
      "get": {
        "tags": [
          "Reports"
        ],
        "parameters": [
          {
            "name": "listingId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "month",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Models.Reports.CalendarEarningEntry"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/reports/bank-account-earnings": {
      "get": {
        "tags": [
          "Reports"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.Models.Reports.BankAccountEarnings"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/reviews": {
      "post": {
        "tags": [
          "Reviews"
        ],
        "summary": "Guest submits a review after checkout.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ReviewCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ReviewCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ReviewCreateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Controllers.ReviewResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/listings/{listingId}/reviews": {
      "get": {
        "tags": [
          "Reviews"
        ],
        "summary": "Public: returns reviews for a listing with aggregate stats.",
        "parameters": [
          {
            "name": "listingId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Controllers.ListingReviewsResponseDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/reviews/{id}/response": {
      "put": {
        "tags": [
          "Reviews"
        ],
        "summary": "Host responds to a review.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ReviewRespondDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ReviewRespondDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.Controllers.ReviewRespondDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.Controllers.ReviewResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/tenant/settings/pricing": {
      "get": {
        "tags": [
          "TenantPricingSettings"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.TenantPricingSettingsDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "TenantPricingSettings"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpdateTenantPricingSettingsDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpdateTenantPricingSettingsDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UpdateTenantPricingSettingsDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.TenantPricingSettingsDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/tenants/register": {
      "post": {
        "tags": [
          "Tenants"
        ],
        "summary": "Self-serve tenant registration. Creates tenant + owner user, returns JWT.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.TenantRegisterRequestDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.TenantRegisterRequestDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.TenantRegisterRequestDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.TenantRegisterResponseDto"
                }
              }
            }
          },
          "409": {
            "description": "Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/tenants/{slug}/public": {
      "get": {
        "tags": [
          "Tenants"
        ],
        "summary": "Public tenant info for guest portal branding. No auth required.",
        "parameters": [
          {
            "name": "slug",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.TenantPublicDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Users": {
      "get": {
        "tags": [
          "Users"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Atlas.Api.DTOs.UserResponseDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Users"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UserCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UserCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UserCreateDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.UserResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/Users/{id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Atlas.Api.DTOs.UserResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Users"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UserCreateDto"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UserCreateDto"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Atlas.Api.DTOs.UserCreateDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "No Content"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "No Content"
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Microsoft.AspNetCore.Mvc.ProblemDetails"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Atlas.Api.Controllers.AddExternalCalendarRequest": {
        "required": [
          "iCalUrl"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "iCalUrl": {
            "maxLength": 2000,
            "minLength": 1,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.AddOnServiceCreateDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "price": {
            "type": "number",
            "format": "double"
          },
          "priceType": {
            "type": "string",
            "nullable": true
          },
          "category": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.AddOnServiceDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "price": {
            "type": "number",
            "format": "double"
          },
          "priceType": {
            "type": "string",
            "nullable": true
          },
          "category": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.AddOnServiceUpdateDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "price": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "priceType": {
            "type": "string",
            "nullable": true
          },
          "category": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.BookingsController+RefundRequest": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "format": "double"
          },
          "reason": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.ConnectDto": {
        "type": "object",
        "properties": {
          "apiKey": {
            "type": "string",
            "nullable": true
          },
          "externalPropertyId": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.ListingAddOnCreateDto": {
        "type": "object",
        "properties": {
          "addOnServiceId": {
            "type": "integer",
            "format": "int32"
          },
          "isEnabled": {
            "type": "boolean",
            "nullable": true
          },
          "overridePrice": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.ListingAddOnDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "addOnServiceId": {
            "type": "integer",
            "format": "int32"
          },
          "addOnName": {
            "type": "string",
            "nullable": true
          },
          "isEnabled": {
            "type": "boolean"
          },
          "overridePrice": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.ListingAddOnPublicDto": {
        "type": "object",
        "properties": {
          "addOnServiceId": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "price": {
            "type": "number",
            "format": "double"
          },
          "priceType": {
            "type": "string",
            "nullable": true
          },
          "category": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.ListingPhotoDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "url": {
            "type": "string",
            "nullable": true
          },
          "originalFileName": {
            "type": "string",
            "nullable": true
          },
          "sortOrder": {
            "type": "integer",
            "format": "int32"
          },
          "caption": {
            "type": "string",
            "nullable": true
          },
          "isCover": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.ListingReviewsResponseDto": {
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "totalCount": {
            "type": "integer",
            "format": "int32"
          },
          "averageRating": {
            "type": "number",
            "format": "double"
          },
          "reviews": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.Controllers.ReviewResponseDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.PricingRuleCreateDto": {
        "type": "object",
        "properties": {
          "ruleType": {
            "type": "string",
            "nullable": true
          },
          "minNights": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "maxNights": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "discountPercent": {
            "type": "number",
            "format": "double"
          },
          "seasonStart": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "seasonEnd": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "label": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "nullable": true
          },
          "priority": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.PricingRuleDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "ruleType": {
            "type": "string",
            "nullable": true
          },
          "minNights": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "maxNights": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "discountPercent": {
            "type": "number",
            "format": "double"
          },
          "seasonStart": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "seasonEnd": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "label": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "priority": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.PricingRuleUpdateDto": {
        "type": "object",
        "properties": {
          "ruleType": {
            "type": "string",
            "nullable": true
          },
          "minNights": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "maxNights": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "discountPercent": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "seasonStart": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "seasonEnd": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "label": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "nullable": true
          },
          "priority": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.PromoCodeCreateDto": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "nullable": true
          },
          "discountType": {
            "type": "string",
            "nullable": true
          },
          "discountValue": {
            "type": "number",
            "format": "double"
          },
          "validFrom": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "validTo": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "usageLimit": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "listingId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "isActive": {
            "type": "boolean",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.PromoCodeResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "discountType": {
            "type": "string",
            "nullable": true
          },
          "discountValue": {
            "type": "number",
            "format": "double"
          },
          "validFrom": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "validTo": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "usageLimit": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "timesUsed": {
            "type": "integer",
            "format": "int32"
          },
          "listingId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.PromoCodeValidateRequestDto": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "nullable": true
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "subtotal": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.PromoCodeValidateResponseDto": {
        "type": "object",
        "properties": {
          "valid": {
            "type": "boolean"
          },
          "discountType": {
            "type": "string",
            "nullable": true
          },
          "discountValue": {
            "type": "number",
            "format": "double"
          },
          "discountAmount": {
            "type": "number",
            "format": "double"
          },
          "message": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.ReviewCreateDto": {
        "type": "object",
        "properties": {
          "bookingId": {
            "type": "integer",
            "format": "int32"
          },
          "rating": {
            "type": "integer",
            "format": "int32"
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "body": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.ReviewRespondDto": {
        "type": "object",
        "properties": {
          "response": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.ReviewResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "bookingId": {
            "type": "integer",
            "format": "int32"
          },
          "guestId": {
            "type": "integer",
            "format": "int32"
          },
          "guestName": {
            "type": "string",
            "nullable": true
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "rating": {
            "type": "integer",
            "format": "int32"
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "body": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "hostResponse": {
            "type": "string",
            "nullable": true
          },
          "hostResponseAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.SyncAvailabilityDto": {
        "type": "object",
        "properties": {
          "availability": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.Controllers.SyncAvailabilityDto+AvailItem"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.SyncAvailabilityDto+AvailItem": {
        "type": "object",
        "properties": {
          "roomTypeId": {
            "type": "string",
            "nullable": true
          },
          "dateFrom": {
            "type": "string",
            "format": "date-time"
          },
          "dateTo": {
            "type": "string",
            "format": "date-time"
          },
          "available": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.SyncRatesDto": {
        "type": "object",
        "properties": {
          "rates": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.Controllers.SyncRatesDto+RateItem"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.SyncRatesDto+RateItem": {
        "type": "object",
        "properties": {
          "roomTypeId": {
            "type": "string",
            "nullable": true
          },
          "ratePlanId": {
            "type": "string",
            "nullable": true
          },
          "dateFrom": {
            "type": "string",
            "format": "date-time"
          },
          "dateTo": {
            "type": "string",
            "format": "date-time"
          },
          "rate": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.TestSendDto": {
        "type": "object",
        "properties": {
          "recipientAddress": {
            "type": "string",
            "nullable": true
          },
          "recipientName": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Controllers.VerifyDocDto": {
        "type": "object",
        "properties": {
          "approved": {
            "type": "boolean"
          },
          "notes": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.AdminCalendarAvailabilityBulkUpsertRequestDto": {
        "required": [
          "cells"
        ],
        "type": "object",
        "properties": {
          "cells": {
            "minItems": 1,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.DTOs.AdminCalendarAvailabilityCellUpsertDto"
            }
          }
        },
        "additionalProperties": false,
        "description": "Request body for bulk-upserting admin calendar availability cells."
      },
      "Atlas.Api.DTOs.AdminCalendarAvailabilityBulkUpsertResponseDto": {
        "type": "object",
        "properties": {
          "updatedCells": {
            "type": "integer",
            "format": "int32"
          },
          "deduplicated": {
            "type": "boolean"
          },
          "cells": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.DTOs.AdminCalendarAvailabilityCellDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Response after bulk-upserting admin calendar availability cells."
      },
      "Atlas.Api.DTOs.AdminCalendarAvailabilityCellDto": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "roomsAvailable": {
            "type": "integer",
            "format": "int32"
          },
          "effectivePrice": {
            "type": "number",
            "format": "double"
          },
          "priceOverride": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "isBlocked": {
            "type": "boolean"
          }
        },
        "additionalProperties": false,
        "description": "Single calendar cell: availability and pricing for one listing-date."
      },
      "Atlas.Api.DTOs.AdminCalendarAvailabilityCellUpsertDto": {
        "required": [
          "date",
          "listingId"
        ],
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "roomsAvailable": {
            "maximum": 2147483647,
            "minimum": 0,
            "type": "integer",
            "format": "int32"
          },
          "priceOverride": {
            "minimum": 0,
            "type": "number",
            "format": "double",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Single cell within a bulk upsert request."
      },
      "Atlas.Api.DTOs.AirbnbPrefillRequestDto": {
        "type": "object",
        "properties": {
          "airbnbUrl": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "pastedText": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.AirbnbPrefillResponseDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "nullable": true
          },
          "locationText": {
            "type": "string",
            "nullable": true
          },
          "propertyType": {
            "type": "string",
            "nullable": true
          },
          "amenities": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "houseRules": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          },
          "maxGuests": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "source": {
            "type": "string",
            "nullable": true
          },
          "warnings": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.AnalyticsDto": {
        "type": "object",
        "properties": {
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          },
          "totalNightsAvailable": {
            "type": "integer",
            "format": "int32"
          },
          "totalNightsSold": {
            "type": "integer",
            "format": "int32"
          },
          "totalRevenue": {
            "type": "number",
            "format": "double"
          },
          "occupancyRate": {
            "type": "number",
            "format": "double"
          },
          "adr": {
            "type": "number",
            "format": "double"
          },
          "revPar": {
            "type": "number",
            "format": "double"
          },
          "byListing": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.DTOs.ListingAnalytics"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.AutomationScheduleDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "bookingId": {
            "type": "integer",
            "format": "int32"
          },
          "eventType": {
            "type": "string",
            "nullable": true
          },
          "dueAtUtc": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "publishedAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "completedAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "attemptCount": {
            "type": "integer",
            "format": "int32"
          },
          "lastError": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Automation schedule data returned by the API."
      },
      "Atlas.Api.DTOs.AvailabilityBlockRequestDto": {
        "required": [
          "endDate",
          "listingId",
          "startDate"
        ],
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "Request body for blocking dates on a listing."
      },
      "Atlas.Api.DTOs.AvailabilityListingDto": {
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "listingName": {
            "type": "string",
            "nullable": true
          },
          "maxGuests": {
            "type": "integer",
            "format": "int32"
          },
          "currency": {
            "type": "string",
            "nullable": true
          },
          "totalPrice": {
            "type": "number",
            "format": "double"
          },
          "nightlyRates": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.DTOs.AvailabilityNightlyRateDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Available listing with nightly rate details."
      },
      "Atlas.Api.DTOs.AvailabilityNightlyRateDto": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "price": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false,
        "description": "Nightly rate for a single date in an availability response."
      },
      "Atlas.Api.DTOs.AvailabilityResponseDto": {
        "type": "object",
        "properties": {
          "propertyId": {
            "type": "integer",
            "format": "int32"
          },
          "checkIn": {
            "type": "string",
            "format": "date-time"
          },
          "checkOut": {
            "type": "string",
            "format": "date-time"
          },
          "guests": {
            "type": "integer",
            "format": "int32"
          },
          "isGenericAvailable": {
            "type": "boolean"
          },
          "listings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.DTOs.AvailabilityListingDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Availability check response for a property with per-listing pricing."
      },
      "Atlas.Api.DTOs.BankAccountRequestDto": {
        "type": "object",
        "properties": {
          "bankName": {
            "type": "string",
            "nullable": true
          },
          "accountNumber": {
            "type": "string",
            "nullable": true
          },
          "ifsc": {
            "type": "string",
            "nullable": true
          },
          "accountType": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request body for creating or updating a bank account."
      },
      "Atlas.Api.DTOs.BankAccountResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "bankName": {
            "type": "string",
            "nullable": true
          },
          "accountNumber": {
            "type": "string",
            "nullable": true
          },
          "ifsc": {
            "type": "string",
            "nullable": true
          },
          "accountType": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "Bank account data returned by the API."
      },
      "Atlas.Api.DTOs.BookingDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "guestId": {
            "type": "integer",
            "format": "int32"
          },
          "checkinDate": {
            "type": "string",
            "format": "date-time"
          },
          "checkoutDate": {
            "type": "string",
            "format": "date-time"
          },
          "bookingSource": {
            "type": "string",
            "nullable": true
          },
          "bookingStatus": {
            "type": "string",
            "nullable": true
          },
          "totalAmount": {
            "type": "number",
            "format": "double"
          },
          "currency": {
            "type": "string",
            "nullable": true
          },
          "externalReservationId": {
            "type": "string",
            "nullable": true
          },
          "confirmationSentAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "refundFreeUntilUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "checkedInAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "checkedOutAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "cancelledAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "amountReceived": {
            "type": "number",
            "format": "double"
          },
          "bankAccountId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "guestsPlanned": {
            "type": "integer",
            "format": "int32"
          },
          "guestsActual": {
            "type": "integer",
            "format": "int32"
          },
          "extraGuestCharge": {
            "type": "number",
            "format": "double"
          },
          "commissionAmount": {
            "type": "number",
            "format": "double"
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "paymentStatus": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Booking data returned by the API."
      },
      "Atlas.Api.DTOs.BookingListDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "listing": {
            "type": "string",
            "nullable": true
          },
          "guest": {
            "type": "string",
            "nullable": true
          },
          "checkinDate": {
            "type": "string",
            "format": "date-time"
          },
          "checkoutDate": {
            "type": "string",
            "format": "date-time"
          },
          "bookingSource": {
            "type": "string",
            "nullable": true
          },
          "bookingStatus": {
            "type": "string",
            "nullable": true
          },
          "totalAmount": {
            "type": "number",
            "format": "double"
          },
          "currency": {
            "type": "string",
            "nullable": true
          },
          "externalReservationId": {
            "type": "string",
            "nullable": true
          },
          "confirmationSentAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "refundFreeUntilUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "checkedInAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "checkedOutAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "cancelledAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "amountReceived": {
            "type": "number",
            "format": "double"
          },
          "guestsPlanned": {
            "type": "integer",
            "format": "int32"
          },
          "guestsActual": {
            "type": "integer",
            "format": "int32"
          },
          "extraGuestCharge": {
            "type": "number",
            "format": "double"
          },
          "commissionAmount": {
            "type": "number",
            "format": "double"
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "paymentStatus": {
            "type": "string",
            "nullable": true
          },
          "bankAccount": {
            "type": "string",
            "nullable": true,
            "readOnly": true
          },
          "guestId": {
            "type": "integer",
            "format": "int32",
            "readOnly": true
          },
          "bankAccountId": {
            "type": "integer",
            "format": "int32",
            "nullable": true,
            "readOnly": true
          }
        },
        "additionalProperties": false,
        "description": "Lightweight booking data for list views, includes resolved listing and guest names."
      },
      "Atlas.Api.DTOs.ChannelPerformance": {
        "type": "object",
        "properties": {
          "channel": {
            "type": "string",
            "nullable": true
          },
          "bookingsCount": {
            "type": "integer",
            "format": "int32"
          },
          "revenue": {
            "type": "number",
            "format": "double"
          },
          "adr": {
            "type": "number",
            "format": "double"
          },
          "sharePercent": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.CommunicationLogDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "bookingId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "guestId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "channel": {
            "type": "string",
            "nullable": true
          },
          "eventType": {
            "type": "string",
            "nullable": true
          },
          "toAddress": {
            "type": "string",
            "nullable": true
          },
          "templateId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "templateVersion": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "attemptCount": {
            "type": "integer",
            "format": "int32"
          },
          "createdAtUtc": {
            "type": "string",
            "format": "date-time"
          },
          "sentAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "lastError": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Communication log entry returned by the API."
      },
      "Atlas.Api.DTOs.CreateAutomationScheduleDto": {
        "required": [
          "bookingId",
          "dueAtUtc",
          "eventType"
        ],
        "type": "object",
        "properties": {
          "bookingId": {
            "type": "integer",
            "format": "int32"
          },
          "eventType": {
            "minLength": 1,
            "type": "string"
          },
          "dueAtUtc": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "Request to create a manual automation schedule."
      },
      "Atlas.Api.DTOs.CreateBookingRequest": {
        "required": [
          "bookingSource",
          "guestId",
          "listingId",
          "paymentStatus"
        ],
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "guestId": {
            "type": "integer",
            "format": "int32"
          },
          "checkinDate": {
            "type": "string",
            "format": "date-time"
          },
          "checkoutDate": {
            "type": "string",
            "format": "date-time"
          },
          "bookingSource": {
            "minLength": 1,
            "type": "string"
          },
          "bookingStatus": {
            "type": "string",
            "nullable": true
          },
          "totalAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "currency": {
            "type": "string",
            "nullable": true
          },
          "externalReservationId": {
            "type": "string",
            "nullable": true
          },
          "confirmationSentAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "refundFreeUntilUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "checkedInAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "checkedOutAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "cancelledAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "amountReceived": {
            "type": "number",
            "format": "double"
          },
          "bankAccountId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "guestsPlanned": {
            "type": "integer",
            "format": "int32"
          },
          "guestsActual": {
            "type": "integer",
            "format": "int32"
          },
          "extraGuestCharge": {
            "type": "number",
            "format": "double"
          },
          "paymentStatus": {
            "minLength": 1,
            "type": "string"
          },
          "notes": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request body for creating a booking."
      },
      "Atlas.Api.DTOs.CreateQuoteRequestDto": {
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "checkIn": {
            "type": "string",
            "format": "date-time"
          },
          "checkOut": {
            "type": "string",
            "format": "date-time"
          },
          "guests": {
            "type": "integer",
            "format": "int32"
          },
          "quotedBaseAmount": {
            "minimum": 0.01,
            "type": "number",
            "format": "double"
          },
          "feeMode": {
            "pattern": "^(CustomerPays|Absorb)$",
            "type": "string",
            "nullable": true
          },
          "expiresAtUtc": {
            "type": "string",
            "format": "date-time"
          },
          "applyGlobalDiscount": {
            "type": "boolean"
          }
        },
        "additionalProperties": false,
        "description": "Request body for issuing a price quote."
      },
      "Atlas.Api.DTOs.CreditAdjustRequestDto": {
        "required": [
          "reason"
        ],
        "type": "object",
        "properties": {
          "creditsDelta": {
            "type": "integer",
            "format": "int32"
          },
          "reason": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.DailyListingPricingDto": {
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "listingName": {
            "type": "string",
            "nullable": true
          },
          "baseAmount": {
            "type": "number",
            "format": "double"
          },
          "discountAmount": {
            "type": "number",
            "format": "double"
          },
          "convenienceFeePercent": {
            "type": "number",
            "format": "double"
          },
          "finalAmount": {
            "type": "number",
            "format": "double"
          },
          "globalDiscountPercent": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false,
        "description": "Per-listing pricing for a single day in the daily summary."
      },
      "Atlas.Api.DTOs.DailyPricingSummaryDto": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "nullable": true
          },
          "listings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.DTOs.DailyListingPricingDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Response for GET pricing/daily-summary: current date and per-listing pricing for that day."
      },
      "Atlas.Api.DTOs.DateAvailabilityDto": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "inventory": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "DTO for individual date availability"
      },
      "Atlas.Api.DTOs.GuestAvailabilityRateResponseDto": {
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "listingName": {
            "type": "string",
            "nullable": true
          },
          "currency": {
            "type": "string",
            "nullable": true
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          },
          "days": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.DTOs.GuestDayAvailabilityRateDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Guest: Availability and nightly rate for a listing in a date range.\r\nListingDailyRate overrides base/weekend rate. Returns roomsAvailable and isAvailable per day."
      },
      "Atlas.Api.DTOs.GuestCreateDto": {
        "required": [
          "email",
          "name",
          "phone"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string"
          },
          "email": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "format": "email"
          },
          "phone": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "idProofUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request body for creating a guest."
      },
      "Atlas.Api.DTOs.GuestDayAvailabilityRateDto": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "nullable": true
          },
          "roomsAvailable": {
            "type": "integer",
            "format": "int32"
          },
          "isAvailable": {
            "type": "boolean"
          },
          "nightlyRate": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false,
        "description": "Single day's availability and nightly rate for guest view."
      },
      "Atlas.Api.DTOs.GuestDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "phone": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "idProofUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Guest data returned by the API."
      },
      "Atlas.Api.DTOs.GuestUpdateDto": {
        "required": [
          "email",
          "name",
          "phone"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string"
          },
          "email": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "format": "email"
          },
          "phone": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "idProofUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request body for updating a guest."
      },
      "Atlas.Api.DTOs.HostKycDocumentDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "docType": {
            "type": "string",
            "nullable": true
          },
          "fileUrl": {
            "type": "string",
            "nullable": true
          },
          "originalFileName": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "createdAtUtc": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.IncidentCreateDto": {
        "required": [
          "actionTaken",
          "createdBy",
          "description",
          "listingId",
          "status"
        ],
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "bookingId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "description": {
            "minLength": 1,
            "type": "string"
          },
          "actionTaken": {
            "minLength": 1,
            "type": "string"
          },
          "status": {
            "minLength": 1,
            "type": "string"
          },
          "createdBy": {
            "minLength": 1,
            "type": "string"
          }
        },
        "additionalProperties": false,
        "description": "Request body for creating or updating an incident."
      },
      "Atlas.Api.DTOs.IncidentResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "bookingId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "actionTaken": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "createdBy": {
            "type": "string",
            "nullable": true
          },
          "createdOn": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "Incident data returned by the API."
      },
      "Atlas.Api.DTOs.ListingAnalytics": {
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "listingName": {
            "type": "string",
            "nullable": true
          },
          "nightsAvailable": {
            "type": "integer",
            "format": "int32"
          },
          "nightsSold": {
            "type": "integer",
            "format": "int32"
          },
          "revenue": {
            "type": "number",
            "format": "double"
          },
          "occupancyRate": {
            "type": "number",
            "format": "double"
          },
          "adr": {
            "type": "number",
            "format": "double"
          },
          "revPar": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.ListingAvailabilityResponseDto": {
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "listingName": {
            "type": "string",
            "nullable": true
          },
          "availability": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.DTOs.DateAvailabilityDto"
            },
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Response DTO for listing availability API"
      },
      "Atlas.Api.DTOs.ListingPricingItemDto": {
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "baseNightlyRate": {
            "minimum": 0,
            "type": "number",
            "format": "double"
          },
          "weekendNightlyRate": {
            "minimum": 0,
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "extraGuestRate": {
            "minimum": 0,
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "currency": {
            "maxLength": 10,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request body for POST pricing/send (ListingId, BaseNightlyRate, WeekendNightlyRate, ExtraGuestRate, Currency). TenantId and UpdatedAtUtc are set server-side."
      },
      "Atlas.Api.DTOs.ListingResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "propertyId": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "floor": {
            "type": "integer",
            "format": "int32"
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "maxGuests": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "Listing data returned by the API. Excludes WiFi credentials."
      },
      "Atlas.Api.DTOs.LoginRequestDto": {
        "required": [
          "email",
          "password"
        ],
        "type": "object",
        "properties": {
          "email": {
            "minLength": 1,
            "type": "string",
            "format": "email"
          },
          "password": {
            "minLength": 6,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.LoginResponseDto": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "role": {
            "type": "string",
            "nullable": true
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenantSlug": {
            "type": "string",
            "nullable": true
          },
          "tenantName": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.MessageTemplateCreateUpdateDto": {
        "required": [
          "body",
          "channel",
          "eventType",
          "language",
          "scopeType"
        ],
        "type": "object",
        "properties": {
          "templateKey": {
            "type": "string",
            "nullable": true
          },
          "eventType": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "channel": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "scopeType": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "scopeId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "language": {
            "maxLength": 10,
            "minLength": 1,
            "type": "string"
          },
          "templateVersion": {
            "type": "integer",
            "format": "int32"
          },
          "isActive": {
            "type": "boolean"
          },
          "subject": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "body": {
            "minLength": 1,
            "type": "string"
          }
        },
        "additionalProperties": false,
        "description": "Request body for creating or updating a message template."
      },
      "Atlas.Api.DTOs.MessageTemplateResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "templateKey": {
            "type": "string",
            "nullable": true
          },
          "eventType": {
            "type": "string",
            "nullable": true
          },
          "channel": {
            "type": "string",
            "nullable": true
          },
          "scopeType": {
            "type": "string",
            "nullable": true
          },
          "scopeId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "language": {
            "type": "string",
            "nullable": true
          },
          "templateVersion": {
            "type": "integer",
            "format": "int32"
          },
          "isActive": {
            "type": "boolean"
          },
          "subject": {
            "type": "string",
            "nullable": true
          },
          "body": {
            "type": "string",
            "nullable": true
          },
          "createdAtUtc": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAtUtc": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false,
        "description": "Message template data returned by the API."
      },
      "Atlas.Api.DTOs.MonthlyTrend": {
        "type": "object",
        "properties": {
          "year": {
            "type": "integer",
            "format": "int32"
          },
          "month": {
            "type": "integer",
            "format": "int32"
          },
          "occupancyRate": {
            "type": "number",
            "format": "double"
          },
          "adr": {
            "type": "number",
            "format": "double"
          },
          "revPar": {
            "type": "number",
            "format": "double"
          },
          "revenue": {
            "type": "number",
            "format": "double"
          },
          "bookingsCount": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.OnboardingChecklistItemDto": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "stage": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "blocking": {
            "type": "boolean"
          },
          "dueAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.OnboardingProfileSummaryDto": {
        "type": "object",
        "properties": {
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "legalName": {
            "type": "string",
            "nullable": true
          },
          "businessType": {
            "type": "string",
            "nullable": true
          },
          "city": {
            "type": "string",
            "nullable": true
          },
          "state": {
            "type": "string",
            "nullable": true
          },
          "pincode": {
            "type": "string",
            "nullable": true
          },
          "hasPan": {
            "type": "boolean"
          },
          "gstin": {
            "type": "string",
            "nullable": true
          },
          "primaryEmail": {
            "type": "string",
            "nullable": true
          },
          "primaryPhone": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.OnboardingProfileUpdateDto": {
        "type": "object",
        "properties": {
          "legalName": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "displayName": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "businessType": {
            "maxLength": 30,
            "type": "string",
            "nullable": true
          },
          "registeredAddressLine": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "city": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "state": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "pincode": {
            "maxLength": 10,
            "type": "string",
            "nullable": true
          },
          "pan": {
            "pattern": "^[A-Z]{5}[0-9]{4}[A-Z]$",
            "type": "string",
            "description": "Full PAN (ABCDE1234F). Stored as hash + last4 only.",
            "nullable": true
          },
          "gstin": {
            "maxLength": 15,
            "type": "string",
            "nullable": true
          },
          "placeOfSupplyState": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "primaryEmail": {
            "maxLength": 200,
            "type": "string",
            "format": "email",
            "nullable": true
          },
          "primaryPhone": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.OnboardingStartRequestDto": {
        "required": [
          "displayName",
          "email",
          "password",
          "phone"
        ],
        "type": "object",
        "properties": {
          "email": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "format": "email"
          },
          "phone": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "displayName": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "password": {
            "minLength": 6,
            "type": "string"
          },
          "city": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "pincode": {
            "maxLength": 10,
            "type": "string",
            "nullable": true
          },
          "propertyType": {
            "maxLength": 30,
            "type": "string",
            "nullable": true
          },
          "roomCount": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "addressLine": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "airbnbUrl": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.OnboardingStartResponseDto": {
        "type": "object",
        "properties": {
          "tenantSlug": {
            "type": "string",
            "nullable": true
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "propertyId": {
            "type": "integer",
            "format": "int32"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "userId": {
            "type": "integer",
            "format": "int32"
          },
          "token": {
            "type": "string",
            "nullable": true
          },
          "nextStep": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.OnboardingStatusResponseDto": {
        "type": "object",
        "properties": {
          "onboardingStatus": {
            "type": "string",
            "nullable": true
          },
          "profile": {
            "$ref": "#/components/schemas/Atlas.Api.DTOs.OnboardingProfileSummaryDto"
          },
          "checklist": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.DTOs.OnboardingChecklistItemDto"
            },
            "nullable": true
          },
          "publishBlockers": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.OutboxMessageDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "topic": {
            "type": "string",
            "nullable": true
          },
          "eventType": {
            "type": "string",
            "nullable": true
          },
          "entityId": {
            "type": "string",
            "nullable": true
          },
          "correlationId": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "createdAtUtc": {
            "type": "string",
            "format": "date-time"
          },
          "publishedAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "attemptCount": {
            "type": "integer",
            "format": "int32"
          },
          "lastError": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Outbox message data for ops diagnostics."
      },
      "Atlas.Api.DTOs.PaymentCreateDto": {
        "required": [
          "amount",
          "bookingId",
          "method",
          "type"
        ],
        "type": "object",
        "properties": {
          "bookingId": {
            "type": "integer",
            "format": "int32"
          },
          "amount": {
            "type": "number",
            "format": "double"
          },
          "method": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "type": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "receivedOn": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "note": {
            "type": "string",
            "nullable": true
          },
          "razorpayOrderId": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "razorpayPaymentId": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "razorpaySignature": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "status": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request body for creating a payment record."
      },
      "Atlas.Api.DTOs.PaymentResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "bookingId": {
            "type": "integer",
            "format": "int32"
          },
          "amount": {
            "type": "number",
            "format": "double"
          },
          "baseAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "discountAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "convenienceFeeAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "method": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "receivedOn": {
            "type": "string",
            "format": "date-time"
          },
          "note": {
            "type": "string",
            "nullable": true
          },
          "razorpayOrderId": {
            "type": "string",
            "nullable": true
          },
          "razorpayPaymentId": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Payment data returned by the API. Excludes RazorpaySignature for security."
      },
      "Atlas.Api.DTOs.PaymentUpdateDto": {
        "required": [
          "amount",
          "bookingId",
          "method",
          "note",
          "receivedOn",
          "type"
        ],
        "type": "object",
        "properties": {
          "bookingId": {
            "type": "integer",
            "format": "int32"
          },
          "amount": {
            "type": "number",
            "format": "double"
          },
          "method": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "type": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "receivedOn": {
            "type": "string",
            "format": "date-time"
          },
          "note": {
            "minLength": 1,
            "type": "string"
          },
          "razorpayOrderId": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "razorpayPaymentId": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "razorpaySignature": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "status": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request body for updating a payment record."
      },
      "Atlas.Api.DTOs.PlatformCreateTenantDto": {
        "required": [
          "name",
          "slug"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "slug": {
            "maxLength": 50,
            "minLength": 1,
            "pattern": "^[a-z0-9][a-z0-9\\-]{1,48}[a-z0-9]$",
            "type": "string"
          },
          "ownerName": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "ownerEmail": {
            "maxLength": 200,
            "type": "string",
            "format": "email",
            "nullable": true
          },
          "ownerPhone": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "plan": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.PlatformPatchTenantDto": {
        "type": "object",
        "properties": {
          "isActive": {
            "type": "boolean",
            "nullable": true
          },
          "plan": {
            "type": "string",
            "nullable": true
          },
          "ownerName": {
            "type": "string",
            "nullable": true
          },
          "ownerEmail": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.PlatformTenantDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "slug": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "ownerName": {
            "type": "string",
            "nullable": true
          },
          "ownerEmail": {
            "type": "string",
            "nullable": true
          },
          "plan": {
            "type": "string",
            "nullable": true
          },
          "createdAtUtc": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.PriceBreakdownDto": {
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "currency": {
            "type": "string",
            "nullable": true
          },
          "baseAmount": {
            "type": "number",
            "format": "double"
          },
          "discountAmount": {
            "type": "number",
            "format": "double"
          },
          "convenienceFeeAmount": {
            "type": "number",
            "format": "double"
          },
          "finalAmount": {
            "type": "number",
            "format": "double"
          },
          "convenienceFeePercent": {
            "type": "number",
            "format": "double"
          },
          "globalDiscountPercent": {
            "type": "number",
            "format": "double"
          },
          "pricingSource": {
            "type": "string",
            "nullable": true
          },
          "feeMode": {
            "type": "string",
            "nullable": true
          },
          "quoteExpiresAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "quoteTokenNonce": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Detailed price breakdown including base, discount, convenience fee, and final amount."
      },
      "Atlas.Api.DTOs.PropertyCreateDto": {
        "required": [
          "address",
          "contactPhone",
          "name",
          "ownerName",
          "type"
        ],
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string"
          },
          "address": {
            "minLength": 1,
            "type": "string"
          },
          "type": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "ownerName": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string"
          },
          "contactPhone": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "commissionPercent": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "status": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request body for creating a property."
      },
      "Atlas.Api.DTOs.PropertyResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "address": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "ownerName": {
            "type": "string",
            "nullable": true
          },
          "contactPhone": {
            "type": "string",
            "nullable": true
          },
          "commissionPercent": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Property data returned by the API. Excludes TenantId."
      },
      "Atlas.Api.DTOs.PublicListingDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "propertyId": {
            "type": "integer",
            "format": "int32"
          },
          "propertyName": {
            "type": "string",
            "nullable": true
          },
          "propertyAddress": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "floor": {
            "type": "integer",
            "format": "int32"
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "checkInTime": {
            "type": "string",
            "nullable": true
          },
          "checkOutTime": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "maxGuests": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false,
        "description": "Safe listing shape for public/guest discovery. Excludes WifiName, WifiPassword, TenantId, and internal-only fields."
      },
      "Atlas.Api.DTOs.QuoteIssueResponseDto": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "nullable": true
          },
          "breakdown": {
            "$ref": "#/components/schemas/Atlas.Api.DTOs.PriceBreakdownDto"
          }
        },
        "additionalProperties": false,
        "description": "Response containing the issued quote token and price breakdown."
      },
      "Atlas.Api.DTOs.QuoteValidateResponseDto": {
        "type": "object",
        "properties": {
          "isValid": {
            "type": "boolean"
          },
          "error": {
            "type": "string",
            "nullable": true
          },
          "breakdown": {
            "$ref": "#/components/schemas/Atlas.Api.DTOs.PriceBreakdownDto"
          }
        },
        "additionalProperties": false,
        "description": "Response indicating whether a quote token is still valid."
      },
      "Atlas.Api.DTOs.SubscribeRequestDto": {
        "required": [
          "planCode"
        ],
        "type": "object",
        "properties": {
          "planCode": {
            "maxLength": 30,
            "minLength": 1,
            "type": "string"
          },
          "autoRenew": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.TenantPricingSettingsDto": {
        "type": "object",
        "properties": {
          "convenienceFeePercent": {
            "type": "number",
            "format": "double"
          },
          "globalDiscountPercent": {
            "type": "number",
            "format": "double"
          },
          "updatedAtUtc": {
            "type": "string",
            "format": "date-time"
          },
          "updatedBy": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Current tenant-level pricing settings returned by the API."
      },
      "Atlas.Api.DTOs.TenantPublicDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "slug": {
            "type": "string",
            "nullable": true
          },
          "logoUrl": {
            "type": "string",
            "nullable": true
          },
          "brandColor": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.TenantRegisterRequestDto": {
        "required": [
          "ownerEmail",
          "ownerName",
          "ownerPhone",
          "password",
          "slug",
          "tenantName"
        ],
        "type": "object",
        "properties": {
          "tenantName": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "slug": {
            "maxLength": 50,
            "minLength": 1,
            "pattern": "^[a-z0-9][a-z0-9\\-]{1,48}[a-z0-9]$",
            "type": "string"
          },
          "ownerName": {
            "maxLength": 100,
            "minLength": 1,
            "type": "string"
          },
          "ownerEmail": {
            "maxLength": 200,
            "minLength": 1,
            "type": "string",
            "format": "email"
          },
          "ownerPhone": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "password": {
            "minLength": 6,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.TenantRegisterResponseDto": {
        "type": "object",
        "properties": {
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenantName": {
            "type": "string",
            "nullable": true
          },
          "slug": {
            "type": "string",
            "nullable": true
          },
          "token": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.DTOs.UpdateBasePricingDto": {
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "baseNightlyRate": {
            "minimum": 0,
            "type": "number",
            "format": "double"
          },
          "weekendNightlyRate": {
            "minimum": 0,
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "extraGuestRate": {
            "minimum": 0,
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "currency": {
            "maxLength": 10,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Admin: Update base pricing for a listing."
      },
      "Atlas.Api.DTOs.UpdateBookingRequest": {
        "required": [
          "bookingSource",
          "guestId",
          "listingId",
          "paymentStatus"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "guestId": {
            "type": "integer",
            "format": "int32"
          },
          "checkinDate": {
            "type": "string",
            "format": "date-time"
          },
          "checkoutDate": {
            "type": "string",
            "format": "date-time"
          },
          "bookingSource": {
            "minLength": 1,
            "type": "string"
          },
          "bookingStatus": {
            "type": "string",
            "nullable": true
          },
          "totalAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "currency": {
            "type": "string",
            "nullable": true
          },
          "externalReservationId": {
            "type": "string",
            "nullable": true
          },
          "confirmationSentAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "refundFreeUntilUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "checkedInAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "checkedOutAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "cancelledAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "paymentStatus": {
            "minLength": 1,
            "type": "string"
          },
          "amountReceived": {
            "type": "number",
            "format": "double"
          },
          "bankAccountId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "guestsPlanned": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "guestsActual": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "extraGuestCharge": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "commissionAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "notes": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request body for updating a booking."
      },
      "Atlas.Api.DTOs.UpdateTenantPricingSettingsDto": {
        "type": "object",
        "properties": {
          "convenienceFeePercent": {
            "maximum": 100,
            "minimum": 0,
            "type": "number",
            "format": "double"
          },
          "globalDiscountPercent": {
            "maximum": 100,
            "minimum": 0,
            "type": "number",
            "format": "double"
          },
          "updatedBy": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Request body for updating tenant pricing settings."
      },
      "Atlas.Api.DTOs.UpsertDailyInventoryDto": {
        "required": [
          "date"
        ],
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "roomsAvailable": {
            "maximum": 2147483647,
            "minimum": 0,
            "type": "integer",
            "format": "int32"
          },
          "source": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "reason": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Admin: Upsert daily inventory (create or update by listingId + date)."
      },
      "Atlas.Api.DTOs.UpsertDailyRateDto": {
        "required": [
          "date"
        ],
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "nightlyRate": {
            "minimum": 0,
            "type": "number",
            "format": "double"
          },
          "currency": {
            "maxLength": 10,
            "type": "string",
            "nullable": true
          },
          "source": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "reason": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "Admin: Upsert daily rate override (create or update by listingId + date)."
      },
      "Atlas.Api.DTOs.UserCreateDto": {
        "required": [
          "email",
          "name",
          "password",
          "phone",
          "role"
        ],
        "type": "object",
        "properties": {
          "name": {
            "minLength": 1,
            "type": "string"
          },
          "email": {
            "minLength": 1,
            "type": "string",
            "format": "email"
          },
          "phone": {
            "minLength": 1,
            "type": "string"
          },
          "role": {
            "minLength": 1,
            "type": "string"
          },
          "password": {
            "minLength": 6,
            "type": "string"
          }
        },
        "additionalProperties": false,
        "description": "Request body for creating a user account."
      },
      "Atlas.Api.DTOs.UserResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "phone": {
            "type": "string",
            "nullable": true
          },
          "role": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false,
        "description": "User data returned by the API. Excludes PasswordHash for security."
      },
      "Atlas.Api.Models.Booking": {
        "required": [
          "bookingStatus",
          "currency",
          "guestId",
          "listingId",
          "notes",
          "paymentStatus",
          "pricingSource"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenant": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Tenant"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "listing": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
          },
          "guestId": {
            "type": "integer",
            "format": "int32"
          },
          "guest": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Guest"
          },
          "checkinDate": {
            "type": "string",
            "format": "date-time"
          },
          "checkoutDate": {
            "type": "string",
            "format": "date-time"
          },
          "bookingSource": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "bookingStatus": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "totalAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "baseAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "discountAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "convenienceFeeAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "finalAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "pricingSource": {
            "maxLength": 30,
            "minLength": 1,
            "type": "string"
          },
          "quoteTokenNonce": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "quoteExpiresAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "currency": {
            "maxLength": 10,
            "minLength": 1,
            "type": "string"
          },
          "externalReservationId": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "confirmationSentAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "refundFreeUntilUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "checkedInAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "checkedOutAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "cancelledAtUtc": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "paymentStatus": {
            "minLength": 1,
            "type": "string"
          },
          "amountReceived": {
            "type": "number",
            "format": "double"
          },
          "bankAccountId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "guestsPlanned": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "guestsActual": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "extraGuestCharge": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "commissionAmount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "notes": {
            "minLength": 1,
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.BookingInvoice": {
        "required": [
          "invoiceNumber"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenant": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Tenant"
          },
          "bookingId": {
            "type": "integer",
            "format": "int32"
          },
          "booking": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Booking"
          },
          "invoiceNumber": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "guestName": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "guestEmail": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "guestPhone": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "propertyName": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "listingName": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "checkinDate": {
            "type": "string",
            "format": "date-time"
          },
          "checkoutDate": {
            "type": "string",
            "format": "date-time"
          },
          "nights": {
            "type": "integer",
            "format": "int32"
          },
          "baseAmount": {
            "type": "number",
            "format": "double"
          },
          "gstRate": {
            "type": "number",
            "format": "double"
          },
          "gstAmount": {
            "type": "number",
            "format": "double"
          },
          "totalAmount": {
            "type": "number",
            "format": "double"
          },
          "supplierGstin": {
            "maxLength": 15,
            "type": "string",
            "nullable": true
          },
          "supplierLegalName": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "supplierAddress": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "placeOfSupply": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "generatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Dtos.Razorpay.BookingDraftDto": {
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "checkinDate": {
            "type": "string",
            "format": "date-time"
          },
          "checkoutDate": {
            "type": "string",
            "format": "date-time"
          },
          "guests": {
            "type": "integer",
            "format": "int32"
          },
          "notes": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Dtos.Razorpay.CreateRazorpayOrderRequest": {
        "required": [
          "currency",
          "guestInfo"
        ],
        "type": "object",
        "properties": {
          "bookingId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "bookingDraft": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Dtos.Razorpay.BookingDraftDto"
          },
          "amount": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "currency": {
            "minLength": 1,
            "type": "string"
          },
          "guestInfo": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Dtos.Razorpay.GuestInfoDto"
          },
          "quoteToken": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Dtos.Razorpay.GuestInfoDto": {
        "required": [
          "email",
          "name",
          "phone"
        ],
        "type": "object",
        "properties": {
          "name": {
            "minLength": 1,
            "type": "string"
          },
          "email": {
            "minLength": 1,
            "type": "string",
            "format": "email"
          },
          "phone": {
            "minLength": 1,
            "type": "string",
            "format": "tel"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Dtos.Razorpay.RazorpayOrderResponse": {
        "type": "object",
        "properties": {
          "keyId": {
            "type": "string",
            "nullable": true
          },
          "orderId": {
            "type": "string",
            "nullable": true
          },
          "amount": {
            "type": "number",
            "format": "double"
          },
          "currency": {
            "type": "string",
            "nullable": true
          },
          "bookingId": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Dtos.Razorpay.VerifyRazorpayPaymentRequest": {
        "required": [
          "bookingId",
          "razorpayOrderId",
          "razorpayPaymentId",
          "razorpaySignature"
        ],
        "type": "object",
        "properties": {
          "bookingId": {
            "type": "integer",
            "format": "int32"
          },
          "razorpayOrderId": {
            "minLength": 1,
            "type": "string"
          },
          "razorpayPaymentId": {
            "minLength": 1,
            "type": "string"
          },
          "razorpaySignature": {
            "minLength": 1,
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Guest": {
        "required": [
          "email",
          "name",
          "phone"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenant": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Tenant"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "phone": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "idProofUrl": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Listing": {
        "required": [
          "name",
          "status",
          "type",
          "wifiName",
          "wifiPassword"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenant": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Tenant"
          },
          "propertyId": {
            "type": "integer",
            "format": "int32"
          },
          "property": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Property"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "floor": {
            "type": "integer",
            "format": "int32"
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "checkInTime": {
            "type": "string",
            "nullable": true
          },
          "checkOutTime": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "wifiName": {
            "type": "string",
            "nullable": true
          },
          "wifiPassword": {
            "type": "string",
            "nullable": true
          },
          "maxGuests": {
            "type": "integer",
            "format": "int32"
          },
          "pricing": {
            "$ref": "#/components/schemas/Atlas.Api.Models.ListingPricing"
          },
          "dailyRates": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.Models.ListingDailyRate"
            },
            "nullable": true
          },
          "dailyInventories": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.Models.ListingDailyInventory"
            },
            "nullable": true
          },
          "bookings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.Models.Booking"
            },
            "nullable": true
          },
          "photos": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.Models.ListingPhoto"
            },
            "nullable": true
          },
          "pricingRules": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.Models.ListingPricingRule"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.ListingDailyInventory": {
        "required": [
          "listingId",
          "source"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenant": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Tenant"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "listing": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
          },
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "roomsAvailable": {
            "type": "integer",
            "format": "int32"
          },
          "source": {
            "minLength": 1,
            "type": "string"
          },
          "reason": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "updatedByUserId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "updatedAtUtc": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.ListingDailyRate": {
        "required": [
          "currency",
          "listingId",
          "source"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenant": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Tenant"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "listing": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
          },
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "nightlyRate": {
            "type": "number",
            "format": "double"
          },
          "currency": {
            "minLength": 1,
            "type": "string"
          },
          "source": {
            "minLength": 1,
            "type": "string"
          },
          "reason": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "updatedByUserId": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "updatedAtUtc": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.ListingPhoto": {
        "required": [
          "url"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenant": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Tenant"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "listing": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
          },
          "url": {
            "maxLength": 1000,
            "minLength": 1,
            "type": "string"
          },
          "originalFileName": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "contentType": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "sizeBytes": {
            "type": "integer",
            "format": "int64"
          },
          "sortOrder": {
            "type": "integer",
            "format": "int32"
          },
          "caption": {
            "maxLength": 300,
            "type": "string",
            "nullable": true
          },
          "isCover": {
            "type": "boolean"
          },
          "createdAtUtc": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAtUtc": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.ListingPricing": {
        "required": [
          "currency",
          "listingId"
        ],
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenant": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Tenant"
          },
          "listing": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
          },
          "baseNightlyRate": {
            "type": "number",
            "format": "double"
          },
          "weekendNightlyRate": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "extraGuestRate": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "currency": {
            "minLength": 1,
            "type": "string"
          },
          "updatedAtUtc": {
            "type": "string",
            "format": "date-time"
          },
          "dailyRates": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.Models.ListingDailyRate"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.ListingPricingRule": {
        "required": [
          "ruleType"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenant": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Tenant"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "listing": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Listing"
          },
          "ruleType": {
            "maxLength": 20,
            "minLength": 1,
            "type": "string"
          },
          "minNights": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "maxNights": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "seasonStart": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "seasonEnd": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "label": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "discountPercent": {
            "type": "number",
            "format": "double"
          },
          "isActive": {
            "type": "boolean"
          },
          "priority": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Property": {
        "required": [
          "address",
          "contactPhone",
          "name",
          "ownerName",
          "status",
          "type"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "tenantId": {
            "type": "integer",
            "format": "int32"
          },
          "tenant": {
            "$ref": "#/components/schemas/Atlas.Api.Models.Tenant"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "address": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "nullable": true
          },
          "ownerName": {
            "type": "string",
            "nullable": true
          },
          "contactPhone": {
            "type": "string",
            "nullable": true
          },
          "commissionPercent": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Reports.BankAccountEarnings": {
        "required": [
          "accountDisplay",
          "bank"
        ],
        "type": "object",
        "properties": {
          "bank": {
            "type": "string",
            "nullable": true
          },
          "accountDisplay": {
            "type": "string",
            "nullable": true
          },
          "amountReceived": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Reports.BookingEarningDetail": {
        "type": "object",
        "properties": {
          "source": {
            "type": "string",
            "nullable": true
          },
          "amount": {
            "type": "number",
            "format": "double"
          },
          "guestName": {
            "type": "string",
            "nullable": true
          },
          "checkinDate": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Reports.BookingInfo": {
        "required": [
          "bookingSource"
        ],
        "type": "object",
        "properties": {
          "bookingId": {
            "type": "integer",
            "format": "int32"
          },
          "checkInDate": {
            "type": "string",
            "format": "date-time"
          },
          "checkOutDate": {
            "type": "string",
            "format": "date-time"
          },
          "amountReceived": {
            "type": "number",
            "format": "double"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "bookingSource": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Reports.CalendarBooking": {
        "required": [
          "status"
        ],
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "amount": {
            "type": "number",
            "format": "double"
          },
          "status": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Reports.CalendarEarningEntry": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "earnings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Atlas.Api.Models.Reports.BookingEarningDetail"
            },
            "nullable": true
          },
          "total": {
            "type": "number",
            "format": "double",
            "readOnly": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Reports.DailyPayout": {
        "required": [
          "listing",
          "status"
        ],
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date-time"
          },
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "listing": {
            "type": "string",
            "nullable": true
          },
          "amount": {
            "type": "number",
            "format": "double"
          },
          "status": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Reports.ListingInfo": {
        "required": [
          "name",
          "unitCode"
        ],
        "type": "object",
        "properties": {
          "listingId": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "unitCode": {
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Reports.MonthlyEarningsSummary": {
        "required": [
          "month"
        ],
        "type": "object",
        "properties": {
          "month": {
            "type": "string",
            "nullable": true
          },
          "totalFees": {
            "type": "number",
            "format": "double"
          },
          "totalNet": {
            "type": "number",
            "format": "double"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Reports.ReportFilter": {
        "type": "object",
        "properties": {
          "startDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "listingIds": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Reports.SourceBookingSummary": {
        "required": [
          "source"
        ],
        "type": "object",
        "properties": {
          "source": {
            "type": "string",
            "nullable": true
          },
          "count": {
            "type": "integer",
            "format": "int32"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Models.Tenant": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "name": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "slug": {
            "maxLength": 50,
            "type": "string",
            "nullable": true
          },
          "isActive": {
            "type": "boolean"
          },
          "ownerName": {
            "maxLength": 100,
            "type": "string",
            "nullable": true
          },
          "ownerEmail": {
            "maxLength": 200,
            "type": "string",
            "nullable": true
          },
          "ownerPhone": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "customDomain": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "logoUrl": {
            "maxLength": 500,
            "type": "string",
            "nullable": true
          },
          "brandColor": {
            "maxLength": 7,
            "type": "string",
            "nullable": true
          },
          "plan": {
            "maxLength": 20,
            "type": "string",
            "nullable": true
          },
          "createdAtUtc": {
            "type": "string",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      },
      "Atlas.Api.Services.RazorpayRefundResult": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "refundId": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "string",
            "nullable": true
          },
          "amountRefunded": {
            "type": "number",
            "format": "double"
          },
          "error": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Microsoft.AspNetCore.Mvc.ProblemDetails": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          }
        },
        "additionalProperties": { }
      }
    },
    "securitySchemes": {
      "X-Tenant-Slug": {
        "type": "apiKey",
        "description": "Tenant slug (e.g. atlas). Required in Production.",
        "name": "X-Tenant-Slug",
        "in": "header"
      }
    }
  },
  "security": [
    {
      "X-Tenant-Slug": [ ]
    }
  ]
}